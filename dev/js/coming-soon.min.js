!function(t){"use strict";let e=t("#participants"),a=t("#part-output"),i=t("#design"),n=t("#recruit"),s=t("#session"),l=t("#analysis"),r=t("#total"),o=t("#part-plus"),c=t("#ml-form"),p=t("#upsell"),d=window.innerWidth>=1200?"xl":window.innerWidth>=922?"lg":window.innerWidth>=768?"md":window.innerWidth>=576?"sm":"xs",m=t(".masthead").eq(0),u=t("section"),h={},g=t(".mp-track-click"),f=()=>{let t=e.val(),a=25*t;return a+=t*(i.prop("checked")?100:0),a+=t*(n.prop("checked")?50:0),a+=t*(s.prop("checked")?25:0),a+=t*(l.prop("checked")?100:0)},b=()=>{e.val()<30?(o.hide(),r.text(`$${f()}`)):(o.show(),r.text("Let's Talk"))},k=(e,a,i)=>{let n=e.val(),s=function(){i.html("<div class='alert alert-success mt-3'>\n              <button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button>\n              Thanks for your interest! We'll follow up with you soon.\n            </div>"),e.val(""),mixpanel.track("sendEmail",{status:"success"})};i.on("click",t=>{t.target.className.includes("close")&&(i.html(""),i.off("click"))}),mixpanel.track("sendEmail",{status:"beforeSend"}),n?(i.html(""),i.off("click"),t.ajax({url:"https://api.sendgrid.com/api/mail.send.json",type:"GET",data:{api_user:"melioralabs",api_key:"TestWord1",to:"brad@melioralabs.com",from:n,subject:"MelioraLabs Inquiry",html:a},dataType:"jsonp",cache:!1,success:s,error:function(t){if(console.log(t),200===t.status)return s();i.html("\n              <div class='alert alert-danger mt-3'>\n                <button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times</button>\n                Whoops! Looks like something went wrong. If the problem persists, please email <a href='mailto:hello@melioralabs.com?subject=Your%20Site%20Is%20Broken'>hello@melioralabs.com</a>.\n              </div>"),mixpanel.track("sendEmail",{status:"fail"})}})):(i.html("\n            <div class='alert alert-danger mt-3'>\n              <button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times</button>\n              Email Address required. We need a way to get in contact with you :)\n            </div>"),mixpanel.track("sendEmail",{status:"no-email"}))};t("#ml-submit").click(()=>{c.submit()}),p.submit(t=>{t.preventDefault(),t.stopPropagation();let e=p.find("input[type=email]"),a=p.find(".success");k(e,"I want to chat more about ML.",a)}),c.submit(a=>{a.preventDefault(),a.stopPropagation();let r=t("#email"),o=c.parent().find(".success");k(r,`\n      Email: ${r.val()}<br/>\n      Participants: ${e.val()}<br/>\n      Lab: true<br/>\n      Design: ${i.prop("checked")}<br/>\n      Recruit: ${n.prop("checked")}<br/>\n      Run: ${s.prop("checked")}<br/>\n      Analyze: ${l.prop("checked")}<br/>\n      Total: $${f()}\n    `,o)}),mixpanel.register({page:window.location.pathname,device:d}),mixpanel.track("pageview"),e.on("input",t=>{e.val()<5&&e.val(5),a.text(e.val()),b()}),e.change(()=>{mixpanel.track("change",{target:"participant-slider",value:e.val()})}),i.change(b),n.change(b),s.change(b),l.change(b),t("a").click(t=>{t.preventDefault();let e=t.target.href;for(;void 0===e;)t.target=t.target.parentElement,e=t.target.href;mixpanel.track("click",{href:e}),"_self"===t.target.target?window.location=e:window.open(e)}),g.click(t=>{let e=t.target.dataset.mpValue;for(;void 0===e;)t.target=t.target.parentElement,e=t.target.dataset.mpValue;mixpanel.track("click",{target:e})}),u.length&&(h={mainText:{hit:!1,distance:u.get(0).offsetTop},pricing:{hit:!1,distance:u.get(1).offsetTop},customers:{hit:!1,distance:u.get(2).offsetTop},faq:{hit:!1,distance:u.get(3).offsetTop},cta:{hit:!1,distance:u.get(4).offsetTop},bottom:{hit:!1,distance:m[0].scrollHeight-m.height()}}),m.scroll(()=>{t.each(h,(t,e)=>{m.scrollTop()>e.distance&&!e.hit&&(mixpanel.track("scroll",{item:t}),e.hit=!0)})})}(jQuery);