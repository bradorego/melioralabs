!function(e){"use strict";e("body").vide({mp4:"mp4/bg.mp4",poster:"img/bg-mobile-fallback.jpg"},{className:"bg-video",posterType:"jpg"});let t=e("#participants"),a=e("#part-output"),s=e("#design"),l=e("#recruit"),o=e("#session"),n=e("#analysis"),r=e("#total"),i=e("#part-plus"),c=e("#ml-form"),p=e("#upsell"),u=()=>{let e=t.val(),a=25*e;return a+=e*(s.prop("checked")?100:0),a+=e*(l.prop("checked")?50:0),a+=e*(o.prop("checked")?25:0),a+=e*(n.prop("checked")?100:0)},m=()=>{t.val()<30?(i.hide(),r.text(`$${u()}`)):(i.show(),r.text("Let's Talk"))},d=(t,a,s)=>{let l=t.val(),o=function(){console.log("success"),s.html("<div class='alert alert-success mt-3'>\n              <button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button>\n              Thanks for your interest! We'll follow up with you soon.\n            </div>"),t.val("")};s.on("click",e=>{console.log("clicked"),e.target.className.includes("close")&&(s.html(""),s.off("click"))}),e.ajax({url:"https://api.sendgrid.com/api/mail.send.json",type:"GET",data:{api_user:"melioralabs",api_key:"TestWord1",to:"brad@melioralabs.com",from:l,subject:"MelioraLabs Inquiry",html:a},dataType:"jsonp",cache:!1,success:o,error:function(e){if(console.log(e),200===e.status)return o();s.html("\n            <div class='alert alert-danger mt-3'>\n              <button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times</button>\n              Whoops! Looks like something went wrong. If the problem persists, please email <a href='mailto:hello@melioralabs.com?subject=Your%20Site%20Is%20Broken'>hello@melioralabs.com</a>.\n            </div>")}})};e("#ml-submit").click(()=>{c.submit()}),p.submit(e=>{e.preventDefault(),e.stopPropagation();let t=p.find("input[type=email]"),a=p.find(".success");d(t,"I want to chat more about ML.",a)}),c.submit(a=>{a.preventDefault(),a.stopPropagation();let r=e("#email"),i=c.parent().find(".success");d(r,`\n      Email: ${r.val()}<br/>\n      Participants: ${t.val()}<br/>\n      Lab: true<br/>\n      Design: ${s.prop("checked")}<br/>\n      Recruit: ${l.prop("checked")}<br/>\n      Run: ${o.prop("checked")}<br/>\n      Analyze: ${n.prop("checked")}<br/>\n      Total: $${u()}\n    `,i)}),t.on("input",e=>{t.val()<5&&t.val(5),a.text(t.val()),m()}),s.change(m),l.change(m),o.change(m),n.change(m)}(jQuery);